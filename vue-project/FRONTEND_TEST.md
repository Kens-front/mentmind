# Тест-кейсы Frontend для приложения FinalMend

## Содержание
- [1. Модуль Auth (Авторизация)](#1-модуль-auth-авторизация)
- [2. Модуль Users (Пользователи)](#2-модуль-users-пользователи)
- [3. Модуль Learn Directions (Направления обучения)](#3-модуль-learn-directions-направления-обучения)
- [4. Модуль Lessons (Уроки)](#4-модуль-lessons-уроки)
- [5. Модуль Homeworks (Домашние задания)](#5-модуль-homeworks-домашние-задания)
- [6. Модуль Chats (Чаты)](#6-модуль-chats-чаты)
- [7. Модуль Messages (Сообщения)](#7-модуль-messages-сообщения)
- [8. Модуль Mentor Availability (Доступность ментора)](#8-модуль-mentor-availability-доступность-ментора)
- [9. Модуль Mentor Payouts (Выплаты менторам)](#9-модуль-mentor-payouts-выплаты-менторам)
- [10. Модуль Lesson Package (Пакеты уроков)](#10-модуль-lesson-package-пакеты-уроков)
- [11. Модуль Lesson Slots (Слоты уроков)](#11-модуль-lesson-slots-слоты-уроков)
- [12. Модуль Analytics (Аналитика)](#12-модуль-analytics-аналитика)

---

## 1. Модуль Auth (Авторизация)

### TC-AUTH-FE-001: Успешная авторизация пользователя
**Приоритет:** Высокий  
**Предусловия:** 
- Пользователь зарегистрирован в системе
- Пользователь не авторизован

**Шаги:**
1. Открыть страницу `/auth`
2. Ввести логин в поле `[data-testid="login-input"]`
3. Ввести пароль в поле `[data-testid="password-input"]`
4. Нажать кнопку "Войти" `[data-testid="submit-btn"]`
5. Проверить, что выполнен POST запрос на `/auth/login`
6. Проверить, что токен сохранен в localStorage
7. Проверить редирект на главную страницу `/`

**Ожидаемый результат:** 
- Пользователь успешно авторизован
- Токен сохранен
- Выполнен редирект на главную страницу

---

### TC-AUTH-FE-002: Авторизация с неверными данными
**Приоритет:** Высокий  
**Предусловия:** Пользователь не авторизован

**Шаги:**
1. Открыть страницу `/auth`
2. Ввести неверный логин
3. Ввести неверный пароль
4. Нажать кнопку "Войти"
5. Проверить, что API вернул статус 401
6. Проверить отображение сообщения об ошибке
7. Проверить, что пользователь остался на странице авторизации

**Ожидаемый результат:** 
- Отображена ошибка "Неверный логин или пароль"
- Редирект не выполнен

---

### TC-AUTH-FE-003: Валидация пустых полей при авторизации
**Приоритет:** Средний  
**Предусловия:** Пользователь не авторизован

**Шаги:**
1. Открыть страницу `/auth`
2. Проверить, что кнопка "Войти" `[data-testid="submit-btn"]` заблокирована
3. Ввести логин
4. Проверить, что кнопка остается заблокированной
5. Ввести пароль
6. Проверить, что кнопка стала активной

**Ожидаемый результат:** 
- Кнопка "Войти" заблокирована при пустых полях
- Кнопка активируется только при заполнении обоих полей

---

### TC-AUTH-FE-004: Выход из системы (Logout)
**Приоритет:** Высокий  
**Предусловия:** Пользователь авторизован

**Шаги:**
1. Находясь на любой странице приложения
2. Нажать кнопку "Выйти"
3. Проверить выполнение POST запроса на `/auth/logout`
4. Проверить удаление токена из localStorage
5. Проверить редирект на страницу `/auth`

**Ожидаемый результат:** 
- Токен удален
- Пользователь перенаправлен на страницу авторизации

---

### TC-AUTH-FE-005: Валидация токена при загрузке приложения
**Приоритет:** Высокий  
**Предусловия:** 
- В localStorage есть токен
- Приложение не загружено

**Шаги:**
1. Открыть приложение
2. Проверить выполнение GET запроса на `/auth/validate`
3. При валидном токене - проверить загрузку данных пользователя
4. При невалидном токене - проверить редирект на `/auth`

**Ожидаемый результат:** 
- Валидный токен: пользователь остается авторизованным
- Невалидный токен: редирект на страницу авторизации

---

## 2. Модуль Users (Пользователи)

### TC-USERS-FE-001: Создание ментора (администратором)
**Приоритет:** Высокий  
**Предусловия:** 
- Пользователь авторизован как администратор
- Есть созданные направления обучения

**Шаги:**
1. Открыть страницу `/mentors`
2. Нажать кнопку "Создать пользователя" `[data-cy="create-user-btn"]`
3. Проверить открытие модального окна `[data-cy="create-user-modal"]`
4. Заполнить поля:
   - Имя: `[data-cy="first-name"]`
   - Фамилия: `[data-cy="last-name"]`
   - Email: `[data-cy="email"]`
   - Логин: `[data-cy="login"]`
   - Телефон: `[data-cy="phone"]`
   - Пароль: `[data-cy="password"]`
5. Выбрать направления обучения `[data-cy="learn-direction-select"]`
6. Нажать кнопку "Сохранить" `[data-testid="learn-direction-edit-save"]`
7. Проверить POST запрос на `/auth/register` с role: "mentor"
8. Проверить закрытие модального окна
9. Проверить отображение нового ментора в таблице `[data-cy="users-table"]`

**Ожидаемый результат:** 
- Ментор успешно создан
- Отображается в списке менторов
- Модальное окно закрыто

---

### TC-USERS-FE-002: Создание студента (администратором)
**Приоритет:** Высокий  
**Предусловия:** 
- Пользователь авторизован как администратор
- Есть созданные направления обучения

**Шаги:**
1. Открыть страницу `/students`
2. Нажать кнопку "Создать пользователя" `[data-cy="create-user-btn"]`
3. Заполнить все обязательные поля
4. Выбрать одно направление обучения
5. Нажать кнопку "Сохранить"
6. Проверить POST запрос на `/auth/register` с role: "student"
7. Проверить отображение студента в таблице

**Ожидаемый результат:** 
- Студент успешно создан
- Отображается в списке студентов

---

### TC-USERS-FE-003: Валидация полей при создании пользователя
**Приоритет:** Средний  
**Предусловия:** Пользователь авторизован как администратор

**Шаги:**
1. Открыть модальное окно создания пользователя
2. Попытаться сохранить с пустыми полями
3. Проверить, что кнопка сохранения заблокирована или показываются ошибки валидации
4. Ввести email в неверном формате
5. Проверить отображение ошибки валидации email
6. Ввести телефон в неверном формате
7. Проверить применение маски `+7(###)###-####`

**Ожидаемый результат:** 
- Валидация работает корректно
- Невозможно создать пользователя с некорректными данными
- Маска телефона применяется автоматически

---

### TC-USERS-FE-004: Просмотр списка пользователей с фильтрацией
**Приоритет:** Средний  
**Предусловия:** 
- Пользователь авторизован
- В системе есть пользователи

**Шаги:**
1. Открыть страницу `/mentors` или `/students`
2. Проверить выполнение GET запроса на `/user` с параметром role
3. Проверить отображение таблицы с пользователями
4. Проверить отображение корректных данных: имя, email, телефон, статус
5. Применить фильтры (если доступны)
6. Проверить обновление списка

**Ожидаемый результат:** 
- Список пользователей загружен и отображен
- Фильтрация работает корректно

---

### TC-USERS-FE-005: Просмотр профиля пользователя
**Приоритет:** Средний  
**Предусловия:** 
- Пользователь авторизован
- Существует пользователь с ID

**Шаги:**
1. Открыть страницу пользователя `/person/:id`
2. Проверить выполнение GET запроса на `/user/full/:id`
3. Проверить отображение всех данных профиля:
   - Имя, фамилия
   - Email, телефон
   - Направления обучения
   - Статус
   - Аватар (если есть)

**Ожидаемый результат:** 
- Все данные профиля отображены корректно

---

### TC-USERS-FE-006: Редактирование профиля пользователя
**Приоритет:** Высокий  
**Предусловия:** 
- Пользователь авторизован
- Открыт профиль пользователя

**Шаги:**
1. Нажать кнопку редактирования профиля
2. Изменить данные (имя, фамилию, email, телефон)
3. Нажать кнопку "Сохранить"
4. Проверить выполнение PATCH запроса на `/user/full/:id`
5. Проверить отображение обновленных данных
6. Проверить уведомление об успешном сохранении

**Ожидаемый результат:** 
- Данные успешно обновлены
- Отображено уведомление об успехе

---

### TC-USERS-FE-007: Загрузка аватара профиля
**Приоритет:** Средний  
**Предусловия:** Пользователь авторизован и просматривает свой профиль

**Шаги:**
1. Открыть страницу профиля `/profile`
2. Нажать на область загрузки аватара
3. Выбрать изображение (jpg, png)
4. Проверить выполнение PATCH запроса на `/user/profile/avatar` с FormData
5. Проверить отображение нового аватара

**Ожидаемый результат:** 
- Аватар успешно загружен и отображается

---

### TC-USERS-FE-008: Просмотр своего профиля (текущего пользователя)
**Приоритет:** Средний  
**Предусловия:** Пользователь авторизован

**Шаги:**
1. Открыть страницу `/profile`
2. Проверить выполнение GET запроса на `/user/profile`
3. Проверить отображение данных текущего пользователя
4. Проверить возможность редактирования

**Ожидаемый результат:** 
- Профиль текущего пользователя отображен
- Доступно редактирование

---

## 3. Модуль Learn Directions (Направления обучения)

### TC-LD-FE-001: Создание нового направления обучения
**Приоритет:** Высокий  
**Предусловия:** Пользователь авторизован как администратор

**Шаги:**
1. Открыть страницу `/learn-directions`
2. Проверить наличие поля ввода `[data-testid="learn-direction-input"]`
3. Ввести название направления "Frontend разработка"
4. Нажать кнопку "Создать" `[data-testid="learn-direction-submit"]`
5. Проверить POST запрос на `/learn-direction` с полем title
6. Проверить очистку поля ввода
7. Проверить появление нового направления в таблице `[data-testid="learn-direction-table"]`

**Ожидаемый результат:** 
- Направление создано
- Отображается в таблице
- Поле ввода очищено

---

### TC-LD-FE-002: Просмотр списка направлений обучения
**Приоритет:** Высокий  
**Предусловия:** В системе есть направления обучения

**Шаги:**
1. Открыть страницу `/learn-directions`
2. Проверить выполнение GET запроса на `/learn-direction`
3. Проверить отображение таблицы с направлениями
4. Проверить наличие колонок: №, Название, Действия

**Ожидаемый результат:** 
- Все направления отображены в таблице

---

### TC-LD-FE-003: Редактирование направления обучения
**Приоритет:** Высокий  
**Предусловия:** Существует направление с ID

**Шаги:**
1. Находясь на странице `/learn-directions`
2. Нажать кнопку редактирования `[data-testid="learn-direction-edit-open-{id}"]`
3. Проверить открытие модального окна
4. Проверить, что в поле `[data-testid="learn-direction-edit-input"]` подставлено текущее название
5. Изменить название на "Front-end PRO"
6. Нажать кнопку "Сохранить" `[data-testid="learn-direction-edit-save"]`
7. Проверить PATCH запрос на `/learn-direction/:id`
8. Проверить обновление названия в таблице
9. Проверить закрытие модального окна

**Ожидаемый результат:** 
- Название обновлено
- Модальное окно закрыто
- В таблице отображается новое название

---

### TC-LD-FE-004: Удаление направления обучения
**Приоритет:** Высокий  
**Предусловия:** Существует направление с ID

**Шаги:**
1. Находясь на странице `/learn-directions`
2. Нажать кнопку удаления `[data-testid="learn-direction-delete-{id}"]`
3. Проверить выполнение DELETE запроса на `/learn-direction/:id`
4. Проверить исчезновение направления из таблицы
5. Проверить пересчет индексов оставшихся элементов

**Ожидаемый результат:** 
- Направление удалено
- Таблица обновлена

---

### TC-LD-FE-005: Валидация при создании направления с пустым названием
**Приоритет:** Средний  
**Предусловия:** Пользователь на странице направлений

**Шаги:**
1. Оставить поле ввода пустым
2. Проверить, что кнопка "Создать" заблокирована или неактивна

**Ожидаемый результат:** 
- Невозможно создать направление с пустым названием

---

## 4. Модуль Lessons (Уроки)

### TC-LESSON-FE-001: Просмотр списка уроков
**Приоритет:** Высокий  
**Предусловия:** 
- Пользователь авторизован
- В системе есть уроки

**Шаги:**
1. Открыть страницу `/lessons`
2. Проверить выполнение GET запроса на `/lesson`
3. Проверить отображение списка уроков `[data-cy="lesson-item"]`
4. Проверить отображение информации: название, дата, время, статус, ментор, студент

**Ожидаемый результат:** 
- Список уроков загружен и отображен

---

### TC-LESSON-FE-002: Создание нового урока
**Приоритет:** Высокий  
**Предусловия:** 
- Пользователь авторизован
- Есть доступные менторы и студенты
- Есть доступные слоты времени

**Шаги:**
1. Открыть страницу `/lessons`
2. Нажать кнопку "Создать урок" `[data-cy="create-lesson-btn"]`
3. Проверить открытие модального окна `[data-cy="create-lesson-modal"]`
4. Заполнить поля:
   - Ссылка на занятие
   - Выбрать ментора (если не предзаполнено)
   - Выбрать дату в календаре
   - Выбрать время начала из доступных слотов
   - Добавить комментарий (опционально)
5. Нажать кнопку создания
6. Проверить PATCH запрос на `/lesson/planned`
7. Проверить закрытие модального окна
8. Проверить появление урока в списке

**Ожидаемый результат:** 
- Урок успешно создан
- Отображается в списке уроков

---

### TC-LESSON-FE-003: Просмотр деталей урока
**Приоритет:** Средний  
**Предусловия:** Существует урок с ID

**Шаги:**
1. Открыть страницу урока `/lessons/:id`
2. Проверить GET запрос на `/lesson/:id`
3. Проверить отображение всех данных:
   - Название/ссылка
   - Дата и время
   - Информация о менторе
   - Информация о студенте
   - Статус
   - Комментарии

**Ожидаемый результат:** 
- Все данные урока отображены корректно

---

### TC-LESSON-FE-004: Завершение урока
**Приоритет:** Высокий  
**Предусловия:** 
- Существует урок со статусом "scheduled"
- Пользователь имеет права на завершение урока

**Шаги:**
1. Открыть страницу урока `/lessons/:id`
2. Нажать кнопку "Завершить урок" `[data-cy="complete-lesson-btn"]`
3. Проверить PATCH запрос на `/lesson/:id` со status: "completed"
4. Проверить отображение уведомления об успехе
5. Проверить обновление статуса на странице

**Ожидаемый результат:** 
- Статус урока изменен на "completed"
- Отображено уведомление

---

### TC-LESSON-FE-005: Редактирование урока
**Приоритет:** Средний  
**Предусловия:** Существует урок с возможностью редактирования

**Шаги:**
1. Открыть страницу урока
2. Нажать кнопку редактирования `[data-cy="edit-lesson-btn"]`
3. Изменить данные урока
4. Нажать "Сохранить"
5. Проверить PATCH запрос на `/lesson/:id`
6. Проверить обновление данных на странице

**Ожидаемый результат:** 
- Данные урока успешно обновлены

---

### TC-LESSON-FE-006: Фильтрация уроков по статусу
**Приоритет:** Средний  
**Предусловия:** В системе есть уроки с разными статусами

**Шаги:**
1. Открыть страницу `/lessons`
2. Применить фильтр по статусу (scheduled, completed, cancelled)
3. Проверить GET запрос с параметром status
4. Проверить отображение только уроков с выбранным статусом

**Ожидаемый результат:** 
- Фильтрация работает корректно

---

### TC-LESSON-FE-007: Фильтрация уроков по дате
**Приоритет:** Средний  
**Предусловия:** В системе есть уроки

**Шаги:**
1. Открыть страницу `/lessons`
2. Выбрать диапазон дат (start_date, end_date)
3. Проверить GET запрос с параметрами дат
4. Проверить отображение уроков в выбранном диапазоне

**Ожидаемый результат:** 
- Отображаются только уроки в указанном диапазоне

---

### TC-LESSON-FE-008: Валидация доступных слотов при создании урока
**Приоритет:** Высокий  
**Предусловия:** Открыто модальное окно создания урока

**Шаги:**
1. Выбрать дату без доступных слотов
2. Проверить, что список времени пуст или заблокирован
3. Выбрать дату с доступными слотами
4. Проверить отображение доступного времени

**Ожидаемый результат:** 
- Можно выбрать только доступные слоты времени

---

## 5. Модуль Homeworks (Домашние задания)

### TC-HW-FE-001: Просмотр списка домашних заданий
**Приоритет:** Высокий  
**Предусловия:** 
- Пользователь авторизован
- В системе есть домашние задания

**Шаги:**
1. Открыть страницу `/homeworks`
2. Проверить GET запрос на `/homework`
3. Проверить отображение списка `[data-cy="homework-item"]`
4. Проверить отображение: название, описание, статус, дата создания

**Ожидаемый результат:** 
- Список домашних заданий загружен и отображен

---

### TC-HW-FE-002: Создание нового домашнего задания
**Приоритет:** Высокий  
**Предусловия:** Пользователь имеет права на создание ДЗ

**Шаги:**
1. Открыть страницу `/homeworks/create`
2. Заполнить поля:
   - Название `[data-cy="homework-title"]`
   - Описание `[data-cy="homework-description"]`
   - Код (опционально)
3. Нажать кнопку "Создать" `[data-cy="homework-submit"]`
4. Проверить POST запрос на `/homework`
5. Проверить редирект на `/homeworks`
6. Проверить появление нового ДЗ в списке

**Ожидаемый результат:** 
- ДЗ успешно создано
- Выполнен редирект
- ДЗ отображается в списке

---

### TC-HW-FE-003: Просмотр деталей домашнего задания
**Приоритет:** Средний  
**Предусловия:** Существует ДЗ с ID

**Шаги:**
1. Открыть страницу `/homeworks/:id`
2. Проверить GET запрос на `/homework/:id`
3. Проверить отображение:
   - Название
   - Описание
   - Код задания `[data-cy="homework-code"]`
   - Статус
   - Связанный урок

**Ожидаемый результат:** 
- Все данные ДЗ отображены корректно

---

### TC-HW-FE-004: Обновление статуса домашнего задания
**Приоритет:** Высокий  
**Предусловия:** 
- Существует ДЗ
- Пользователь имеет права на изменение статуса

**Шаги:**
1. Открыть страницу `/homeworks/:id`
2. Выбрать новый статус в `[data-cy="homework-status-select"]`
3. Выбрать "Выполнено" (completed)
4. Проверить PATCH запрос на `/homework/:id`
5. Проверить отображение уведомления об успехе
6. Проверить обновление статуса

**Ожидаемый результат:** 
- Статус успешно обновлен
- Отображено уведомление

---

### TC-HW-FE-005: Редактирование домашнего задания
**Приоритет:** Средний  
**Предусловия:** Существует ДЗ с возможностью редактирования

**Шаги:**
1. Открыть страницу редактирования ДЗ
2. Изменить название, описание или код
3. Нажать "Сохранить"
4. Проверить PATCH запрос на `/homework/:id`
5. Проверить обновление данных

**Ожидаемый результат:** 
- ДЗ успешно обновлено

---

### TC-HW-FE-006: Валидация обязательных полей при создании ДЗ
**Приоритет:** Средний  
**Предусловия:** Открыта страница создания ДЗ

**Шаги:**
1. Проверить, что кнопка "Создать" заблокирована при пустом названии
2. Ввести название
3. Проверить, что кнопка стала активной

**Ожидаемый результат:** 
- Валидация работает корректно
- Невозможно создать ДЗ без названия

---

### TC-HW-FE-007: Отображение редактора кода для ДЗ
**Приоритет:** Средний  
**Предусловия:** Открыта страница создания/редактирования ДЗ

**Шаги:**
1. Проверить наличие компонента редактора кода
2. Ввести код в редактор
3. Проверить подсветку синтаксиса
4. Сохранить ДЗ
5. Проверить сохранение кода

**Ожидаемый результат:** 
- Редактор кода работает корректно
- Код сохраняется

---

## 6. Модуль Chats (Чаты)

### TC-CHAT-FE-001: Просмотр списка чатов
**Приоритет:** Высокий  
**Предусловия:** 
- Пользователь авторизован
- У пользователя есть чаты

**Шаги:**
1. Открыть страницу `/chats`
2. Проверить GET запрос на `/chat`
3. Проверить отображение списка чатов
4. Проверить отображение: имя собеседника, последнее сообщение, время

**Ожидаемый результат:** 
- Список чатов загружен и отображен

---

### TC-CHAT-FE-002: Открытие чата
**Приоритет:** Высокий  
**Предусловия:** Существует чат с ID

**Шаги:**
1. На странице `/chats` кликнуть на чат
2. Проверить переход на `/chats/:id`
3. Проверить GET запрос на `/messages/chat/:id`
4. Проверить отображение истории сообщений

**Ожидаемый результат:** 
- Чат открыт
- Сообщения загружены и отображены

---

### TC-CHAT-FE-003: Отображение непрочитанных сообщений
**Приоритет:** Средний  
**Предусловия:** В чате есть непрочитанные сообщения

**Шаги:**
1. Открыть список чатов
2. Проверить отображение индикатора непрочитанных сообщений
3. Открыть чат
4. Проверить исчезновение индикатора

**Ожидаемый результат:** 
- Индикатор непрочитанных сообщений отображается корректно

---

## 7. Модуль Messages (Сообщения)

### TC-MSG-FE-001: Загрузка и отображение сообщений в чате
**Приоритет:** Высокий  
**Предусловия:** 
- Пользователь авторизован
- Существует чат с сообщениями

**Шаги:**
1. Открыть страницу `/chats/:id`
2. Проверить GET запрос на `/messages/chat/:id`
3. Проверить отображение сообщений `[data-cy="message-item"]`
4. Проверить, что сообщения отображены в правильном порядке (по времени)
5. Проверить отображение текста, времени, отправителя

**Ожидаемый результат:** 
- Сообщения загружены
- Отображаются в правильном порядке
- Все данные корректны

---

### TC-MSG-FE-002: Отправка нового сообщения
**Приоритет:** Высокий  
**Предусловия:** Открыт чат

**Шаги:**
1. Ввести текст в поле `[data-cy="chat-input"] .chat-input__input`
2. Нажать Enter или кнопку отправки
3. Проверить POST запрос на `/messages` с полями:
   - text: текст сообщения
   - chatId: ID чата
4. Проверить отображение уведомления об успехе
5. Проверить появление сообщения в списке (через WebSocket или обновление)

**Ожидаемый результат:** 
- Сообщение отправлено
- Отображается в чате
- Поле ввода очищено

---

### TC-MSG-FE-003: Валидация пустого сообщения
**Приоритет:** Средний  
**Предусловия:** Открыт чат

**Шаги:**
1. Оставить поле ввода пустым
2. Попытаться отправить сообщение (Enter или кнопка)
3. Проверить, что сообщение не отправлено

**Ожидаемый результат:** 
- Невозможно отправить пустое сообщение

---

### TC-MSG-FE-004: Получение нового сообщения через WebSocket
**Приоритет:** Высокий  
**Предусловия:** 
- Пользователь авторизован
- Открыт чат
- WebSocket соединение установлено

**Шаги:**
1. Отправить сообщение от другого пользователя (через API или другую сессию)
2. Проверить получение события через WebSocket
3. Проверить автоматическое появление сообщения в чате
4. Проверить, что не требуется перезагрузка страницы

**Ожидаемый результат:** 
- Новое сообщение появляется автоматически
- Без перезагрузки страницы

---

### TC-MSG-FE-005: Отметка сообщений как прочитанных
**Приоритет:** Средний  
**Предусловия:** В чате есть непрочитанные сообщения

**Шаги:**
1. Открыть чат с непрочитанными сообщениями
2. Проверить, что срабатывает механизм отметки как прочитанных (IntersectionObserver)
3. Проверить обновление статуса сообщений

**Ожидаемый результат:** 
- Сообщения автоматически отмечаются как прочитанные при просмотре

---

### TC-MSG-FE-006: Автопрокрутка к последнему сообщению
**Приоритет:** Средний  
**Предусловия:** В чате есть сообщения

**Шаги:**
1. Открыть чат
2. Проверить, что страница автоматически прокручена к последнему сообщению
3. Отправить новое сообщение
4. Проверить автопрокрутку к новому сообщению

**Ожидаемый результат:** 
- Автопрокрутка работает корректно

---

## 8. Модуль Mentor Availability (Доступность ментора)

### TC-MA-FE-001: Просмотр слотов доступности ментора
**Приоритет:** Высокий  
**Предусловия:** 
- Пользователь авторизован как ментор
- У ментора есть созданные слоты

**Шаги:**
1. Открыть страницу `/mentor-slots`
2. Проверить GET запрос на `/mentor-availability/me` с параметрами from и to
3. Проверить отображение слотов `[data-cy="availability-slot"]`
4. Проверить отображение: дата, время начала, время окончания, статус

**Ожидаемый результат:** 
- Слоты загружены и отображены

---

### TC-MA-FE-002: Создание нового слота доступности
**Приоритет:** Высокий  
**Предусловия:** Пользователь авторизован как ментор

**Шаги:**
1. Открыть страницу `/mentor-slots`
2. Нажать кнопку "Добавить слот" `[data-cy="add-slot-btn"]`
3. Проверить открытие модального окна `[data-cy="slot-modal"]`
4. Заполнить поля:
   - Дата `[data-cy="slot-date"]`
   - Время начала `[data-cy="slot-start"]`
   - Время окончания `[data-cy="slot-end"]`
5. Нажать "Сохранить" `[data-cy="slot-submit"]`
6. Проверить POST запрос на `/mentor-availability`
7. Проверить закрытие модального окна
8. Проверить отображение уведомления об успехе

**Ожидаемый результат:** 
- Слот создан
- Отображается в календаре/списке

---

### TC-MA-FE-003: Валидация времени слота
**Приоритет:** Высокий  
**Предусловия:** Открыто модальное окно создания слота

**Шаги:**
1. Выбрать дату
2. Ввести время начала: 14:00
3. Ввести время окончания: 13:00 (раньше начала)
4. Проверить, что кнопка "Сохранить" заблокирована
5. Проверить отображение сообщения "Время окончания должно быть позже времени начала"

**Ожидаемый результат:** 
- Валидация работает
- Невозможно создать слот с некорректным временем

---

### TC-MA-FE-004: Редактирование слота доступности
**Приоритет:** Средний  
**Предусловия:** Существует слот с ID

**Шаги:**
1. Нажать кнопку редактирования слота `[data-cy="edit-slot-{id}"]`
2. Проверить GET запрос на `/mentor-availability/:id`
3. Изменить время окончания
4. Нажать "Сохранить"
5. Проверить PATCH запрос на `/mentor-availability/:id`
6. Проверить обновление слота

**Ожидаемый результат:** 
- Слот успешно обновлен

---

### TC-MA-FE-005: Закрытие слота (изменение доступности)
**Приоритет:** Средний  
**Предусловия:** Существует доступный слот

**Шаги:**
1. Нажать кнопку закрытия слота `[data-cy="close-slot-{id}"]`
2. Проверить PATCH запрос с is_available: false
3. Проверить применение класса `slot--unavailable` к элементу

**Ожидаемый результат:** 
- Слот помечен как недоступный
- Визуально отличается от доступных

---

### TC-MA-FE-006: Удаление слота доступности
**Приоритет:** Средний  
**Предусловия:** Существует слот

**Шаги:**
1. Нажать кнопку удаления `[data-cy="delete-slot-{id}"]`
2. Подтвердить удаление `[data-cy="confirm-delete"]`
3. Проверить DELETE запрос на `/mentor-availability/:id`
4. Проверить исчезновение слота

**Ожидаемый результат:** 
- Слот удален

---

### TC-MA-FE-007: Отображение календаря со слотами
**Приоритет:** Средний  
**Предусловия:** У ментора есть слоты

**Шаги:**
1. Открыть страницу `/mentor-slots`
2. Проверить отображение календаря `[data-cy="calendar"]`
3. Кликнуть на день с слотами
4. Проверить отображение слотов дня `[data-cy="day-slots"]`

**Ожидаемый результат:** 
- Календарь отображается
- Слоты привязаны к датам

---

### TC-MA-FE-008: Просмотр слотов другого ментора (для студента/админа)
**Приоритет:** Средний  
**Предусловия:** Пользователь не является владельцем слотов

**Шаги:**
1. Открыть страницу с выбором ментора
2. Выбрать ментора
3. Выбрать дату
4. Проверить GET запрос на `/mentor-availability/:mentorId` с параметром date
5. Проверить отображение доступных слотов

**Ожидаемый результат:** 
- Отображаются только доступные слоты выбранного ментора

---

## 9. Модуль Mentor Payouts (Выплаты менторам)

### TC-MP-FE-001: Просмотр списка выплат менторов
**Приоритет:** Высокий  
**Предусловия:** 
- Пользователь авторизован (админ или ментор)
- В системе есть выплаты

**Шаги:**
1. Открыть страницу `/payouts/mentors`
2. Проверить GET запрос на `/mentor-payout`
3. Проверить отображение списка выплат `[data-cy="payout-item"]`
4. Проверить отображение: ментор, сумма, статус, дата, количество уроков

**Ожидаемый результат:** 
- Список выплат загружен и отображен

---

### TC-MP-FE-002: Фильтрация выплат по статусу
**Приоритет:** Средний  
**Предусловия:** Открыта страница выплат

**Шаги:**
1. Выбрать фильтр по статусу `[data-cy="status-filter"]`
2. Выбрать "Оплачено" (paid)
3. Проверить GET запрос с параметром status=paid
4. Проверить, что отображаются только оплаченные выплаты

**Ожидаемый результат:** 
- Фильтрация по статусу работает

---

### TC-MP-FE-003: Фильтрация выплат по дате
**Приоритет:** Средний  
**Предусловия:** Открыта страница выплат

**Шаги:**
1. Ввести дату начала `[data-cy="date-filter-start"]`: 2026-01-01
2. Ввести дату окончания `[data-cy="date-filter-end"]`: 2026-01-31
3. Нажать "Применить" `[data-cy="apply-filter"]`
4. Проверить GET запрос с параметрами start_date и end_date
5. Проверить отображение выплат в диапазоне

**Ожидаемый результат:** 
- Фильтрация по дате работает

---

### TC-MP-FE-004: Создание новой выплаты ментору (для админа)
**Приоритет:** Высокий  
**Предусловия:** 
- Пользователь - администратор
- Есть менторы в системе

**Шаги:**
1. Нажать "Создать выплату" `[data-cy="create-payout-btn"]`
2. Проверить открытие модального окна `[data-cy="payout-modal"]`
3. Выбрать ментора `[data-cy="mentor-select"]`
4. Ввести сумму `[data-cy="payout-amount"]`: 4500
5. Нажать "Создать" `[data-cy="payout-submit"]`
6. Проверить POST запрос на `/mentor-payout`
7. Проверить закрытие модального окна
8. Проверить уведомление об успехе

**Ожидаемый результат:** 
- Выплата создана
- Отображается в списке

---

### TC-MP-FE-005: Обновление статуса выплаты на "оплачено"
**Приоритет:** Высокий  
**Предусловия:** Существует выплата со статусом "pending"

**Шаги:**
1. Нажать кнопку "Отметить как оплаченное" `[data-cy="mark-paid-{id}"]`
2. Проверить PATCH запрос на `/mentor-payout/:id` с status: "paid"
3. Проверить обновление статуса в UI `[data-cy="payout-{id}-status"]`
4. Проверить отображение уведомления

**Ожидаемый результат:** 
- Статус изменен на "paid"
- Установлена дата оплаты

---

### TC-MP-FE-006: Просмотр деталей выплаты
**Приоритет:** Средний  
**Предусловия:** Существует выплата с ID

**Шаги:**
1. Открыть страницу `/payouts/mentors/:id`
2. Проверить GET запрос на `/mentor-payout/:id`
3. Проверить отображение:
   - Информация о менторе
   - Сумма выплаты
   - Список уроков `[data-cy="lesson-item"]`
   - Статус и даты

**Ожидаемый результат:** 
- Все детали выплаты отображены

---

### TC-MP-FE-007: Отображение общей суммы выплат
**Приоритет:** Низкий  
**Предусловия:** В списке есть выплаты

**Шаги:**
1. Открыть страницу выплат
2. Проверить отображение элемента `[data-cy="total-amount"]`
3. Проверить, что сумма считается корректно (сумма всех paid выплат)

**Ожидаемый результат:** 
- Общая сумма отображается корректно

---

## 10. Модуль Lesson Package (Пакеты уроков)

### TC-LP-FE-001: Просмотр пакетов уроков пользователя
**Приоритет:** Средний  
**Предусловия:** 
- Пользователь авторизован
- У пользователя есть пакет уроков

**Шаги:**
1. Открыть профиль пользователя
2. Проверить GET запрос на `/lesson-package/` с userIds
3. Проверить отображение информации о пакете:
   - Общее количество уроков (totalCount)
   - Использовано уроков (usedCount)
   - Оставшиеся уроки
   - Срок действия (duration)
   - Статус

**Ожидаемый результат:** 
- Информация о пакете отображена корректно

---

### TC-LP-FE-002: Добавление бонусного урока (для админа)
**Приоритет:** Средний  
**Предусловия:** 
- Пользователь - администратор
- Открыт профиль студента

**Шаги:**
1. Нажать кнопку "Добавить бонусный урок"
2. Подтвердить действие
3. Проверить PATCH запрос на `/lesson-package/bonus/:userId`
4. Проверить обновление количества уроков в пакете
5. Проверить уведомление об успехе

**Ожидаемый результат:** 
- Бонусный урок добавлен
- Счетчик уроков увеличен

---

### TC-LP-FE-003: Отображение статуса пакета
**Приоритет:** Низкий  
**Предусловия:** У пользователя есть пакет

**Шаги:**
1. Проверить визуальное отображение статуса (active, expired, exhausted)
2. Проверить различные цвета/иконки для разных статусов

**Ожидаемый результат:** 
- Статус пакета отображается понятно

---

## 11. Модуль Lesson Slots (Слоты уроков)

### TC-LS-FE-001: Просмотр слотов уроков студента
**Приоритет:** Средний  
**Предусловия:** 
- Пользователь авторизован
- У студента есть слоты

**Шаги:**
1. Открыть страницу со слотами
2. Проверить GET запрос на `/lesson-credits/by-filter` с userIds
3. Проверить отображение списка слотов

**Ожидаемый результат:** 
- Слоты загружены и отображены

---

### TC-LS-FE-002: Закрытие слота урока с указанием причины
**Приоритет:** Средний  
**Предусловия:** Существует активный слот

**Шаги:**
1. Нажать кнопку закрытия слота
2. Проверить открытие модального окна
3. Ввести причину закрытия
4. Подтвердить
5. Проверить PATCH запрос на `/lesson-slots/:id` с полем reason
6. Проверить обновление статуса слота

**Ожидаемый результат:** 
- Слот закрыт
- Причина сохранена

---

### TC-LS-FE-003: Валидация обязательного поля причины при закрытии
**Приоритет:** Средний  
**Предусловия:** Открыто модальное окно закрытия слота

**Шаги:**
1. Оставить поле причины пустым
2. Попытаться подтвердить
3. Проверить, что кнопка заблокирована или показана ошибка

**Ожидаемый результат:** 
- Невозможно закрыть слот без указания причины

---

## 12. Модуль Analytics (Аналитика)

### TC-AN-FE-001: Просмотр аналитики для текущего пользователя
**Приоритет:** Высокий  
**Предусловия:** Пользователь авторизован

**Шаги:**
1. Открыть главную страницу `/` или страницу аналитики
2. Проверить GET запрос на `/analytics`
3. Проверить отображение статистических карточек:
   - Всего уроков (allLessonCount)
   - Завершенных уроков (allCompletedLessonCount)
   - Отмененных уроков (allCancelledLessonCount)
   - Оплаченных уроков (allPaidLessonCount)
   - Ближайших уроков (allCloserLessons)
   - Общая зарплата (для менторов) (allSalaryCount)

**Ожидаемый результат:** 
- Все метрики загружены и отображены корректно

---

### TC-AN-FE-002: Отображение роль-специфичной аналитики
**Приоритет:** Средний  
**Предусловия:** Пользователь авторизован

**Шаги:**
1. Для ментора: проверить отображение метрики "Общая зарплата"
2. Для студента: проверить отображение метрик по урокам
3. Для админа: проверить общую статистику

**Ожидаемый результат:** 
- Отображается релевантная аналитика для роли пользователя

---

### TC-AN-FE-003: Обновление аналитики при изменении данных
**Приоритет:** Низкий  
**Предусловия:** Открыта страница с аналитикой

**Шаги:**
1. Выполнить действие, влияющее на метрики (создать урок, завершить урок)
2. Обновить страницу или дождаться автообновления
3. Проверить обновление значений метрик

**Ожидаемый результат:** 
- Метрики актуализированы

---

## Дополнительные сквозные тест-кейсы

### TC-COMMON-FE-001: Навигация по приложению
**Приоритет:** Высокий  
**Предусловия:** Пользователь авторизован

**Шаги:**
1. Проверить наличие бокового меню (Aside)
2. Кликнуть по пунктам меню
3. Проверить переходы на соответствующие страницы
4. Проверить выделение активного пункта меню

**Ожидаемый результат:** 
- Навигация работает корректно
- Активный пункт выделен

---

### TC-COMMON-FE-002: Отображение уведомлений (notifications)
**Приоритет:** Средний  
**Предусловия:** Выполнено действие, генерирующее уведомление

**Шаги:**
1. Выполнить успешное действие (создание, обновление)
2. Проверить отображение уведомления `.el-message--success`
3. Выполнить неуспешное действие (ошибка API)
4. Проверить отображение уведомления об ошибке `.el-message--error`

**Ожидаемый результат:** 
- Уведомления отображаются корректно
- Различаются успешные и ошибочные действия

---

### TC-COMMON-FE-003: Работа модальных окон
**Приоритет:** Средний  
**Предусловия:** Есть функционал с модальными окнами

**Шаги:**
1. Открыть модальное окно
2. Проверить блокировку фона
3. Закрыть модальное окно (крестик, ESC, клик вне окна)
4. Проверить очистку формы при повторном открытии

**Ожидаемый результат:** 
- Модальные окна работают корректно
- Формы очищаются

---

### TC-COMMON-FE-004: Обработка ошибок сети
**Приоритет:** Высокий  
**Предусловия:** Пользователь авторизован

**Шаги:**
1. Отключить интернет или сымитировать ошибку сервера (500)
2. Выполнить запрос к API
3. Проверить отображение сообщения об ошибке
4. Проверить, что приложение не падает

**Ожидаемый результат:** 
- Ошибки обрабатываются корректно
- Пользователь информируется о проблеме

---

### TC-COMMON-FE-005: Responsive design (адаптивность)
**Приоритет:** Средний  
**Предусловия:** Приложение открыто

**Шаги:**
1. Изменить размер окна браузера (desktop, tablet, mobile)
2. Проверить адаптацию элементов интерфейса
3. Проверить доступность функционала на разных размерах экрана

**Ожидаемый результат:** 
- Интерфейс адаптируется под размер экрана

---

### TC-COMMON-FE-006: Защита роутов (route guards)
**Приоритет:** Высокий  
**Предусловия:** Пользователь не авторизован

**Шаги:**
1. Попытаться открыть защищенную страницу (например, `/lessons`)
2. Проверить редирект на `/auth`
3. Авторизоваться
4. Проверить доступ к защищенным страницам
5. Попытаться получить доступ к странице недоступной для роли (например, студент к `/payouts/mentors`)
6. Проверить редирект или отображение ошибки

**Ожидаемый результат:** 
- Неавторизованные пользователи не могут получить доступ к защищенным страницам
- Роль-специфичные ограничения работают

---

### TC-COMMON-FE-007: WebSocket соединение
**Приоритет:** Высокий  
**Предусловия:** Пользователь авторизован

**Шаги:**
1. Проверить установку WebSocket соединения после авторизации
2. Проверить обработку событий через WebSocket (новые сообщения)
3. Отключить интернет
4. Проверить переподключение после восстановления соединения

**Ожидаемый результат:** 
- WebSocket соединение устанавливается и работает стабильно
- Реализовано переподключение

---

## Заключение

Данный документ содержит основные тест-кейсы для тестирования фронтенд-приложения FinalMend. 

**Рекомендации по тестированию:**
- Использовать Cypress для E2E тестов
- Покрывать критичные пути (Happy Path) в первую очередь
- Тестировать валидацию и обработку ошибок
- Проверять интеграцию с WebSocket для реал-тайм функционала
- Обеспечить тестирование на разных ролях пользователей

**Приоритеты:**
- **Высокий**: Критичные функции (авторизация, создание/просмотр основных сущностей)
- **Средний**: Важные, но не критичные функции (фильтрация, редактирование)
- **Низкий**: Вспомогательные функции (визуальные элементы, дополнительная статистика)
